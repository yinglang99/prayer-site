<!DOCTYPE html>
<html>
<head>
  <title>纯光教会每日祈祷</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>🌸 今日祈祷打卡</h1>
    <button id="prayBtn">点击封印今日祝福</button>
    <p>连续打卡天数：<span id="days">0</span> 天</p>
  </div>
  <!-- 引入Particles.js库 -->
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <script>
    // 获取页面元素
    const prayBtn = document.getElementById('prayBtn');
    const daysSpan = document.getElementById('days');

    // 从本地存储读取数据
    let prayData = JSON.parse(localStorage.getItem('prayData')) || {
      lastDate: '',
      streak: 0
    };

    // 更新显示
    daysSpan.textContent = prayData.streak;

    // 按钮点击事件
    prayBtn.addEventListener('click', () => {
      const today = new Date().toLocaleDateString();
      
      if (today !== prayData.lastDate) {
        prayData.streak += 1;
        prayData.lastDate = today;
        localStorage.setItem('prayData', JSON.stringify(prayData));
        daysSpan.textContent = prayData.streak;
        alert('打卡成功！✨');
      } else {
        alert('今天已经祈祷过了哦～');
      }
    });

    // 初始化粒子效果
    particlesJS('particles-js', {
      particles: {
        number: { value: 30 },
        color: { value: '#ffffff' },
        shape: {
          type: 'image',
          image: {
            src: 'https://699pic.com/tupian/11373683-2.html', // 替换后的樱花粒子图片链接
            width: 20,
            height: 20
          }
        },
        opacity: { value: 0.5 },
        size: { value: 10 },
        move: { speed: 1 }
      }
    });
  </script>
  <!-- 添加粒子效果容器 -->
  <div id="particles-js"></div>
</body>
</html>
